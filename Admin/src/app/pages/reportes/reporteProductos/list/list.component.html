<div class="container">
  <div class="card">
    <div class="card-header">
      <h3>Reporte de Productos</h3>
    </div>
    
    <div class="card-body">
      <!-- Filtros -->
      <div class="row mb-4">
        <div class="col-md-3">
          <label class="form-label">Fecha Inicio</label>
          <input type="date" class="form-control" [(ngModel)]="fechaInicio">
        </div>
        
        <div class="col-md-3">
          <label class="form-label">Fecha Fin</label>
          <input type="date" class="form-control" [(ngModel)]="fechaFin">
        </div>
        
        <div class="col-md-3">
          <label class="form-label">Marca</label>
          <select class="form-select" [(ngModel)]="marcaSeleccionada">
            <option [value]="null">Todas las marcas</option>
            <option *ngFor="let marca of marcas" [value]="marca.marc_Id">{{ marca.marc_Descripcion }}</option>
          </select>
        </div>
        
        <div class="col-md-3">
          <label class="form-label">Categoría</label>
          <select class="form-select" [(ngModel)]="categoriaSeleccionada">
            <option [value]="null">Todas las categorías</option>
            <option *ngFor="let categoria of categorias" [value]="categoria.cate_Id">{{ categoria.cate_Descripcion }}</option>
          </select>
        </div>
      </div>
      
      <!-- Botones -->
      <div class="row mb-4">
        <div class="col-md-12 text-end">
        <button class="btn btn-secondary me-2" (click)="limpiarFiltros()">
  <i class="pi pi-filter-slash"></i> Limpiar
</button>
          
          <button class="btn btn-primary" (click)="generarReporte()" [disabled]="cargando">
            <i class="pi pi-file-pdf"></i> 
            <span *ngIf="!cargando">Generar Reporte</span>
            <span *ngIf="cargando">Generando...</span>
          </button>
        </div>
      </div>
      
      <!-- Visualización del PDF -->
      <div *ngIf="pdfUrl" class="mt-4">
        <iframe [src]="pdfUrl" width="100%" height="800px" style="border: 1px solid #ddd;"></iframe>
      </div>
    </div>
  </div>
</div>

<!-- Spinner de carga -->
<div *ngIf="cargando" class="overlay">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Cargando...</span>
  </div>
</div>